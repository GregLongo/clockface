@import '../../Styles/variables.scss';
@import '../../Styles/typography.scss';

/*
  SelectGroup Component
  ------------------------------------------------------------------------------
*/

$select-group--padding: $cf-space-2xs;

.cf-select-group {
  display: inline-flex;
  align-items: stretch;
  padding: 0;
  border-radius: $cf-radius;
  background-color: $g5-pepper;

  // Visually obscures underlying input
  & > input[type='radio'],
  & > input[type='checkbox'] {
    position: fixed;
    top: 0px;
    left: 0px;
    visibility: hidden;
  }
}

.cf-select-group--option {
  @include no-user-select();
  border: 0;
  font-family: $cf-text-font;
  font-weight: $cf-font-weight--medium;
  background-color: transparent;
  transition: background-color $cf-transition-default,
    color $cf-transition-default, box-shadow $cf-transition-default;
  color: $g11-sidewalk;
  border-radius: $cf-radius-sm;
  outline: none;
  text-align: center;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
  margin-right: $cf-border;
  display: flex;
  justify-content: center;
  align-items: center;
  @extend %type-uppercase;
  position: relative;

  &:after {
    @include createOverlayBase();
  }

  &:last-child {
    margin-right: 0;
  }

  &:hover,
  &:focus {
    background-color: $g6-smoke;
    color: $g18-cloud;
    cursor: pointer;
    &:after {
      opacity: $cf-hover-active-opacity;
    }
  }

  &:focus {
    box-shadow: $cf-input--box-shadow;

    &:active {
      box-shadow: none;
    }
  }

  &.cf-select-group--option__active {
    color: $g20-white;
  }

  &.cf-select-group--option__disabled,
  &.cf-select-group--option__disabled:hover,
  &.cf-select-group--option__disabled:focus {
    box-shadow: none;
    background-color: transparent;
    color: $g7-graphite;
    cursor: not-allowed;
    opacity: 0.5;
  }
}

/*
  Size Modifiers 
  ------------------------------------------------------------------------------
*/

@mixin radioButtonSizeModifier($fontSize, $padding) {
  .cf-select-group--option {
    padding: $padding;
    font-size: $fontSize;
  }

  // Square Buttons
  &.cf-select-group__square .cf-select-group--option {
    flex-grow: 0;
    flex-shrink: 0;
    width: calc(1em + #{($padding * 2)});
    overflow: hidden;
    white-space: nowrap;
    text-overflow: ellipsis;
    text-align: left;
    display: block;
  }
}

.cf-select-group__xs {
  @include radioButtonSizeModifier($cf-text-base-0, $cf-space-3xs);
}
.cf-select-group__sm {
  @include radioButtonSizeModifier($cf-text-base-0, $cf-space-2xs);
}
.cf-select-group__md {
  @include radioButtonSizeModifier($cf-text-base-1, $cf-space-xs);
}
.cf-select-group__lg {
  @include radioButtonSizeModifier($cf-text-base-1, $cf-space-s);
}

/*
  Color Modifiers
  ------------------------------------------------------------------------------
*/

@mixin radioButtonColorModifier($background, $text) {
  .cf-select-group--option.cf-select-group--option__active {
    color: $g20-white;
    background-color: $background;

    &.cf-select-group--option__disabled {
      color: mix($g20-white, mix($background, $g5-pepper, 50%), 50%);
      background-color: mix($background, $g5-pepper, 50%);
    }
  }
}

.cf-select-group__default {
  @include radioButtonColorModifier($g7-graphite, $g20-white);
}
.cf-select-group__primary {
  @include radioButtonColorModifier($c-pool, $g20-white);
}
.cf-select-group__secondary {
  @include radioButtonColorModifier($c-star, $g20-white);
}
.cf-select-group__success {
  @include radioButtonColorModifier($c-rainforest, $g20-white);
}
.cf-select-group__danger {
  @include radioButtonColorModifier($c-curacao, $g20-white);
}
.cf-select-group__warning {
  @include radioButtonColorModifier($c-pineapple, $g2-kevlar);
}

/*
  Shape Modifiers
  ------------------------------------------------------------------------------
*/

.cf-select-group.cf-select-group__stretch {
  width: 100%;

  .cf-select-group--option {
    flex: 1 0 0;
  }
}
