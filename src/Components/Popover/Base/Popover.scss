@import '../../../Styles/variables';

/*
  Popover Styles
  ------------------------------------------------------------------------------
*/

.cf-popover {
  position: fixed;
  z-index: 9999;

  &:focus {
    outline: none;
  }
}

.cf-popover--contents {
  @extend %backdrop-blur;
  font-size: $cf-text-base;
  // background-color: $g2-kevlar;
  // background-color: rbga($g2-kevlar, 0.1);
  border-radius: $cf-radius + $cf-border;
  position: relative;

  .cf-popover__solid & {
    box-shadow: 0 2px 5px 0.6px rgba($g0-obsidian, 0.2);
  }

  .cf-popover__outline & {
    border-style: solid;
    border-width: $cf-border;
  }
}

.cf-popover__outline button.cf-dismiss-button {
  top: -$cf-border;
  right: -$cf-border;
}

.cf-popover--caret {
  position: absolute;
  border-color: transparent;
  border-style: solid;
}

/*
  Color Modifiers
  ------------------------------------------------------------------------------
*/

@mixin popoverColorModifier($solidColor, $outlineColor, $textColor) {
  // Solid Type
  &.cf-popover__solid .cf-popover--contents {
    @extend %backdrop-blur;
    background-color: rgba($solidColor, 0.1);
    color: $textColor;
  }
  &.cf-popover__solid .cf-popover--caret {
    border-bottom-color: $solidColor;
  }
  // Outline Type
  &.cf-popover__outline .cf-popover--contents {
    @extend %backdrop-blur;
    border-color: $outlineColor;
    background-color: rgba($solidColor, 0.1);
    color: $textColor;
  }
  &.cf-popover__outline .cf-popover--caret {
    border-bottom-color: $outlineColor;
  }
}

.cf-popover__default {
  @include popoverColorModifier($g6-smoke, $cf-grey-45, $g15-platinum);
}
.cf-popover__primary {
  @include popoverColorModifier($cf-grey-45, $cf-grey-25, $g20-white);
}
.cf-popover__secondary {
  @include popoverColorModifier($c-star, $c-shadow, $g20-white);
}
.cf-popover__success {
  @include popoverColorModifier($c-rainforest, $c-gypsy, $g20-white);
}
.cf-popover__warning {
  @include popoverColorModifier($c-pineapple, $c-oak, $g3-castle);
}
.cf-popover__danger {
  @include popoverColorModifier($c-curacao, $c-basalt, $g20-white);
}

/*
  Refless Variation
  ------------------------------------------------------------------------------
*/

.cf-refless-popover--trigger {
  &,
  &:hover {
    cursor: pointer;
  }

  > * {
    pointer-events: none;
  }
}

/*
  Optional Default Styling
  ------------------------------------------------------------------------------
*/

.cf-popover--contents__default-styles {
  padding: $cf-marg-c;
  font-size: $cf-text-base;
  line-height: 1.5em;
  font-weight: $cf-font-weight--medium;
  color: $g13-mist;

  > *:first-child {
    margin-top: 0;
  }

  > *:last-child {
    margin-bottom: 0;
  }

  strong {
    color: $g18-cloud;
    font-weight: $cf-font-weight--bold;
  }

  .cf-popover__solid.cf-popover__primary &,
  .cf-popover__solid.cf-popover__secondary &,
  .cf-popover__solid.cf-popover__success &,
  .cf-popover__solid.cf-popover__danger & {
    color: rgba($g20-white, 0.8);

    strong {
      color: $g20-white;
    }
  }
  .cf-popover__solid.cf-popover__warning & {
    color: rgba($g3-castle, 0.8);

    strong {
      color: $g3-castle;
    }
  }
}
